<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <link rel="stylesheet" href="./css3.css">
    <script src="../js1/jquery-3.4.1.js"></script>
    <script src="./main.js"></script>
    <style>
        .t {
            transform: rotateZ(45deg);
        }
    </style>
</head>

<body>
    <div class="box">
        <!-- 后 -->
        <div class="M10 face p1 t">
            <div class="f-box h-f1">
                <div class="color6"></div>
            </div>
            <div class="f-box h-f2">
                <div class="color2"></div>
            </div>
            <div class="f-box h-f3"></div>
            <div class="f-box h-f4"></div>
            <div class="f-box h-f5">
                <div class="color5"></div>
            </div>
            <div class="f-box h-f6"></div>
        </div>
        <div class="M11 face p2 t">
            <div class="f-box h-f1">
                <div class="color6"></div>
            </div>
            <div class="f-box h-f2">
                <div class="color2"></div>
            </div>
            <div class="f-box h-f3"></div>
            <div class="f-box h-f4"></div>
            <div class="f-box h-f5"></div>
            <div class="f-box h-f6"></div>
        </div>
        <div class="M12 face p3 t">
            <div class="f-box h-f1">
                <div class="color6"></div>
            </div>
            <div class="f-box h-f2">
                <div class="color2"></div>
            </div>
            <div class="f-box h-f3"></div>
            <div class="f-box h-f4">
                <div class="color4"></div>
            </div>
            <div class="f-box h-f5"></div>
            <div class="f-box h-f6"></div>
        </div>
        <div class="M13 face p4 t">
            <div class="f-box h-f1">
                <div class="color6"></div>
            </div>
            <div class="f-box h-f2"></div>
            <div class="f-box h-f3"></div>
            <div class="f-box h-f4"></div>
            <div class="f-box h-f5">
                <div class="color5"></div>
            </div>
            <div class="f-box h-f6"></div>
        </div>
        <div class="M14 face p5 t">
            <div class="f-box h-f1">
                <div class="color6"></div>
            </div>
            <div class="f-box h-f2"></div>
            <div class="f-box h-f3"></div>
            <div class="f-box h-f4"></div>
            <div class="f-box h-f5"></div>
            <div class="f-box h-f6"></div>
        </div>
        <div class="M15 face p6 t">
            <div class="f-box h-f1">
                <div class="color6"></div>
            </div>
            <div class="f-box h-f2"></div>
            <div class="f-box h-f3"></div>
            <div class="f-box h-f4">
                <div class="color4"></div>
            </div>
            <div class="f-box h-f5"></div>
            <div class="f-box h-f6"></div>
        </div>
        <div class="M16 face p7 t">
            <div class="f-box h-f1">
                <div class="color6"></div>
            </div>
            <div class="f-box h-f2"></div>
            <div class="f-box h-f3">
                <div class="color3"></div>
            </div>
            <div class="f-box h-f4"></div>
            <div class="f-box h-f5">
                <div class="color5"></div>
            </div>
            <div class="f-box h-f6"></div>
        </div>
        <div class="M17 face p8 t">
            <div class="f-box h-f1">
                <div class="color6"></div>
            </div>
            <div class="f-box h-f2"></div>
            <div class="f-box h-f3">
                <div class="color3"></div>
            </div>
            <div class="f-box h-f4"></div>
            <div class="f-box h-f5"></div>
            <div class="f-box h-f6"></div>
        </div>
        <div class="M18 face p9 t">
            <div class="f-box h-f1">
                <div class="color6"></div>
            </div>
            <div class="f-box h-f2"></div>
            <div class="f-box h-f3">
                <div class="color3"></div>
            </div>
            <div class="f-box h-f4">
                <div class="color4"></div>
            </div>
            <div class="f-box h-f5"></div>
            <div class="f-box h-f6"></div>
        </div>

        <!-- 中 -->
        <div class="M1 face p1">
            <div class="f-box f1"></div>
            <div class="f-box f2">
                <div class="color2"></div>
            </div>
            <div class="f-box f3"></div>
            <div class="f-box f4"></div>
            <div class="f-box f5">
                <div class="color5"></div>
            </div>
            <div class="f-box f6"></div>
        </div>
        <div class="M2 face p2">
            <div class="f-box f1"></div>
            <div class="f-box f2">
                <div class="color2"></div>
            </div>
            <div class="f-box f4"></div>
            <div class="f-box f5"></div>
            <div class="f-box f6"></div>
        </div>
        <div class="M3 face p3">
            <div class="f-box f1"></div>
            <div class="f-box f2">
                <div class="color2"></div>
            </div>
            <div class="f-box f3"></div>
            <div class="f-box f4">
                <div class="color4"></div>
            </div>
            <div class="f-box f5"></div>
            <div class="f-box f6"></div>
        </div>
        <div class="M4 face p4">
            <div class="f-box f1"></div>
            <div class="f-box f2"></div>
            <div class="f-box f3"></div>
            <div class="f-box f5">
                <div class="color5"></div>
            </div>
            <div class="f-box f6"></div>
        </div>
        <div class="M6 face p6">
            <div class="f-box f1"></div>
            <div class="f-box f2"></div>
            <div class="f-box f3"></div>
            <div class="f-box f4">
                <div class="color4"></div>
            </div>
            <div class="f-box f6"></div>
        </div>
        <div class="M7 face p7">
            <div class="f-box f1"></div>
            <div class="f-box f2"></div>
            <div class="f-box f3">
                <div class="color3"></div>
            </div>
            <div class="f-box f4"></div>
            <div class="f-box f5">
                <div class="color5"></div>
            </div>
            <div class="f-box f6"></div>
        </div>
        <div class="M8 face p8">
            <div class="f-box f1"></div>
            <div class="f-box f3">
                <div class="color3"></div>
            </div>
            <div class="f-box f4"></div>
            <div class="f-box f5"></div>
            <div class="f-box f6"></div>
        </div>
        <div class="M9 face p9">
            <div class="f-box f1"></div>
            <div class="f-box f2"></div>
            <div class="f-box f3">
                <div class="color3"></div>
            </div>
            <div class="f-box f4">
                <div class="color4"></div>
            </div>
            <div class="f-box f5"></div>
            <div class="f-box f6"></div>
        </div>
        <!-- 前 -->
        <div class="M19 face p1 t">
            <div class="f-box f-f1" style="transform: translateZ(150px);">
                <div class="color1"></div>
            </div>
            <div class="f-box f-f2" style="
            transform: translateZ(150px) rotateX(-90deg);
            transform-origin: top;">
                <div class="color2"></div>
            </div>
            <div class="f-box f-f3" style="
            transform: translateZ(150px) rotateX(90deg);
            transform-origin: bottom;"></div>
            <div class="f-box f-f4" style="
            transform: translateZ(150px) rotateY(-90deg);
            transform-origin: right;"></div>
            <div class="f-box f-f5" style="
            transform: translateZ(150px) rotateY(90deg);
            transform-origin: left;">
                <div class="color5"></div>
            </div>
            <div class="f-box f-f6" style="
            transform: translateZ(50px);"></div>
        </div>
        <div class="M20 face p2 t">
            <div class="f-box f-f1" style="transform: translateZ(150px);">
                <div class="color1"></div>
            </div>
            <div class="f-box f-f2" style="
            transform: translateZ(150px) rotateX(-90deg);
            transform-origin: top;">
                <div class="color2"></div>
            </div>
            <div class="f-box f-f3" style="
            transform: translateZ(150px) rotateX(90deg);
            transform-origin: bottom;"></div>
            <div class="f-box f-f4" style="
            transform: translateZ(150px) rotateY(-90deg);
            transform-origin: right;"></div>
            <div class="f-box f-f5" style="
            transform: translateZ(150px) rotateY(90deg);
            transform-origin: left;"></div>
            <div class="f-box f-f6" style="
            transform: translateZ(50px);"></div>
        </div>
        <div class="M21 face p3 t">
            <div class="f-box f-f1" style="transform: translateZ(150px);">
                <div class="color1"></div>
            </div>
            <div class="f-box f-f2" style="
            transform: translateZ(150px) rotateX(-90deg);
            transform-origin: top;">
                <div class="color2"></div>
            </div>
            <div class="f-box f-f3" style="
            transform: translateZ(150px) rotateX(90deg);
            transform-origin: bottom;"></div>
            <div class="f-box f-f4" style="
            transform: translateZ(150px) rotateY(-90deg);
            transform-origin: right;">
                <div class="color4"></div>
            </div>
            <div class="f-box f-f5" style="
            transform: translateZ(150px) rotateY(90deg);
            transform-origin: left;"></div>
            <div class="f-box f-f6" style="
            transform: translateZ(50px);"></div>
        </div>
        <div class="M22 face p4 t">
            <div class="f-box f-f1" style="transform: translateZ(150px);">
                <div class="color1"></div>
            </div>
            <div class="f-box f-f2" style="
            transform: translateZ(150px) rotateX(-90deg);
            transform-origin: top;"></div>
            <div class="f-box f-f3" style="
            transform: translateZ(150px) rotateX(90deg);
            transform-origin: bottom;"></div>
            <div class="f-box f-f4" style="
            transform: translateZ(150px) rotateY(-90deg);
            transform-origin: right;"></div>
            <div class="f-box f-f5" style="
            transform: translateZ(150px) rotateY(90deg);
            transform-origin: left;">
                <div class="color5"></div>
            </div>
            <div class="f-box f-f6" style="
            transform: translateZ(50px);"></div>
        </div>
        <div class="M23 face p5 t">
            <div class="f-box f-f1" style="transform: translateZ(150px);">
                <div class="color1"></div>
            </div>
            <div class="f-box f-f2" style="
            transform: translateZ(150px) rotateX(-90deg);
            transform-origin: top;"></div>
            <div class="f-box f-f3" style="
            transform: translateZ(150px) rotateX(90deg);
            transform-origin: bottom;"></div>
            <div class="f-box f-f4" style="
            transform: translateZ(150px) rotateY(-90deg);
            transform-origin: right;"></div>
            <div class="f-box f-f5" style="
            transform: translateZ(150px) rotateY(90deg);
            transform-origin: left;"></div>
            <div class="f-box f-f6" style="
            transform: translateZ(50px);"></div>
        </div>
        <div class="M24 face p6 t">
            <div class="f-box f-f1" style="transform: translateZ(150px);">
                <div class="color1"></div>
            </div>
            <div class="f-box f-f2" style="
            transform: translateZ(150px) rotateX(-90deg);
            transform-origin: top;"></div>
            <div class="f-box f-f3" style="
            transform: translateZ(150px) rotateX(90deg);
            transform-origin: bottom;"></div>
            <div class="f-box f-f4" style="
            transform: translateZ(150px) rotateY(-90deg);
            transform-origin: right;">
                <div class="color4"></div>
            </div>
            <div class="f-box f-f5" style="
            transform: translateZ(150px) rotateY(90deg);
            transform-origin: left;"></div>
            <div class="f-box f-f6" style="
            transform: translateZ(50px);"></div>
        </div>
        <div class="M25 face p7 t">
            <div class="f-box f-f1" style="transform: translateZ(150px);">
                <div class="color1"></div>
            </div>
            <div class="f-box f-f2" style="
            transform: translateZ(150px) rotateX(-90deg);
            transform-origin: top;"></div>
            <div class="f-box f-f3" style="
            transform: translateZ(150px) rotateX(90deg);
            transform-origin: bottom;">
                <div class="color3"></div>
            </div>
            <div class="f-box f-f4" style="
            transform: translateZ(150px) rotateY(-90deg);
            transform-origin: right;"></div>
            <div class="f-box f-f5" style="
            transform: translateZ(150px) rotateY(90deg);
            transform-origin: left;">
                <div class="color5"></div>
            </div>
            <div class="f-box f-f6" style="
            transform: translateZ(50px);"></div>
        </div>
        <div class="M26 face p8 t">
            <div class="f-box f-f1" style="transform: translateZ(150px);">
                <div class="color1"></div>
            </div>
            <div class="f-box f-f2" style="
            transform: translateZ(150px) rotateX(-90deg);
            transform-origin: top;"></div>
            <div class="f-box f-f3" style="
            transform: translateZ(150px) rotateX(90deg);
            transform-origin: bottom;">
                <div class="color3"></div>
            </div>
            <div class="f-box f-f4" style="
            transform: translateZ(150px) rotateY(-90deg);
            transform-origin: right;"></div>
            <div class="f-box f-f5" style="
            transform: translateZ(150px) rotateY(90deg);
            transform-origin: left;"></div>
            <div class="f-box f-f6" style="
            transform: translateZ(50px);"></div>
        </div>
        <div class="M27 face p9 t">
            <div class="f-box f-f1" style="transform: translateZ(150px);">
                <div class="color1"></div>
            </div>
            <div class="f-box f-f2" style="
            transform: translateZ(150px) rotateX(-90deg);
            transform-origin: top;"></div>
            <div class="f-box f-f3" style="
            transform: translateZ(150px) rotateX(90deg);
            transform-origin: bottom;">
                <div class="color3"></div>
            </div>
            <div class="f-box f-f4" style="
            transform: translateZ(150px) rotateY(-90deg);
            transform-origin: right;">
                <div class="color4"></div>
            </div>
            <div class="f-box f-f5" style="
            transform: translateZ(150px) rotateY(90deg);
            transform-origin: left;"></div>
            <div class="f-box f-f6" style="
            transform: translateZ(50px);"></div>
        </div>
    </div>
    <script>
        $(".f-box div").html("");
        var face = document.getElementsByClassName("face");
        var i = 0;
        for (var j = 0; j < 3; j++) {
            for (var k = 0; k < 3; k++) {
                for (var l = 0; l < 3; l++) {
                    if (l == 1 && k == 1 && j == 1) {
                        l++;
                    }
                    face[i].xx = l;
                    face[i].yy = k;
                    face[i].zz = j;
                    face[i].index = i;
                    i++;
                }
            }
        }
        //将各面色块赋值
        for (var i = 0; i < 6; i++) {
            $(".color1")[i].face = 1;
            $(".color2")[i].face = 2;
            $(".color3")[i].face = 3;
            $(".color4")[i].face = 4;
            $(".color5")[i].face = 5;
            $(".color6")[i].face = 6;
        }
        var color = $(".face .f-box div");
        for (var c = 0; c < 54; c++) {
            color[c].xx = color[c].offsetParent.offsetParent.xx;
            color[c].yy = color[c].offsetParent.offsetParent.yy;
            color[c].zz = color[c].offsetParent.offsetParent.zz;
            color[c].index = color[c].offsetParent.offsetParent.index;

        }
        var nowdiv = null;
        var creal = false;
        var crealX=null;
        var crealY=null;
        //旋转判定条件，
        color.mousedown(function (e) {
            nowdiv = $(this);
            var e_x=null;/*当前鼠标处于网页的坐标*/
            var e_y=null;
            var f_xy=null;/*接下来选装方向*/
            $(this).mousemove(function (e) {
                console.log(e.offsetX, e.offsetY);
                if (e.offsetX <= 10 || e.offsetX >= 85 || e.offsetY <= 10 || e.offsetY >= 85) {
                    creal = true;
                    // creal_(creal, $(this))
                    if(e.offsetX <= 10){
                        f_xy=-1;
                    }
                    // $(this).unbind('mousemove');
                }
            })

            nowdiv.mouseup(function () {
                creal = false;
                $(this).unbind('mousemove');
            })
        })

        // function creal_(creal, nowdiv) {
        //     // console.log(nowdiv);
        //     var creal1=creal;
        //     var nowdiv=nowdiv;
        //     if (creal) {
        //     }
        // }
    </script>
</body>

</html>