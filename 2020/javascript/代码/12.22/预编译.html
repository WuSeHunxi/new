<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        /**
         * 
         * js执行的三部曲：
         *      语法分析
         *      预编译
         *      执行
        */

        test()
        function test(){
            console.log(a);
        }
        // test();

        console.log(a);//undefined
        var a=123;

        /**
         * 未经声明的变量归window所有，全局的window也归window所有
         * window是全局的域
         * 
        */
        a=123;
        console.log(window.a);
        var a=123;
        console.log(window.a);
        var b=c=123;//c未声明
        console.log(window.b+"  "+window.c);
        
        
        function test(){
            var a=b=133;//b未声明
        }
        test();
        console.log(window.b);//133



        /**
         * 重要例题
        */
       /**
        * 预编译发生在函数执行的前一刻
        *       1.创建AO对象(执行期上下文)
        *           AO:{
        *           
        *           }
        *       2.找形参和变量声明，将变量和形参作为AO对象的属性名，值为undefined
        *           AO:{
        *               a:undefined
        *               b:undefined
        *           }
        *       3.将实参和形参相统一
        *           AO:{
        *               a:undefined--->1
        *               b:undefined--->undefined
        *           }
        *       4.找函数体里的函数声明作为AO对象的属性名，并将值变成相应的函数体(优先级最高)
        *           AO:{
        *               a:undefined--->1--->function(){}
        *               b:undefined--->undefined
        *               d:function(){}
        *           }
       */
        //需要解决优先级顺序问题
        function fn(a){
            console.log(a);//function a(){}
            var a=123;
            console.log(a);//123
            function a(){

            }
            console.log(a);//123
            var b=function(){

            }
            console.log(b);//function(){}
            function d(){

            }
        }
        fn(1);


        /**
         * 例子
        */
        function test(a,b){
            console.log(a);//1
            c=0;
            var c;
            a=3;
            b=2;
            //打印在赋值之后
            console.log(b);//2
            function b(){}
            function d(){}
            console.log(b);//2
        }
        test(1);

        /**
         * 全局的作用域：
         *      1.生成GO对象
         *      GO:{
         *          a:function a(){} --> 123
         *      }
         * 
        */
        var a=123;
        function a(){

        }

    </script>
</body>
</html>